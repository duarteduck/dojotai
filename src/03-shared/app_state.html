<script>
const State = {
  get uid(){ return localStorage.getItem('uid'); },
  set uid(v){ localStorage.setItem('uid', v); },

  get user(){
    const userData = localStorage.getItem('user');
    return userData ? JSON.parse(userData) : null;
  },
  set user(v){
    if(v) {
      localStorage.setItem('user', JSON.stringify(v));
    } else {
      localStorage.removeItem('user');
    }
  },

  get session(){
    const sessionData = localStorage.getItem('session');
    return sessionData ? JSON.parse(sessionData) : null;
  },
  set session(v){
    if(v) {
      localStorage.setItem('session', JSON.stringify(v));
      console.log('ðŸ’¾ State.session salva:', v.id);
    } else {
      localStorage.removeItem('session');
    }
  },

  clear(){
    localStorage.removeItem('uid');
    localStorage.removeItem('user');
    localStorage.removeItem('session');
    console.log('ðŸ§¹ State limpo - uid, user, session removidos');
  },

  cache: { atividades: [] },
  ui: { minhas:false, nomeFiltro:"" }
};
</script>